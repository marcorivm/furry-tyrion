<html>
<head>
	<title>Tyrion</title>
</head>
<body>
	<form name="file">
		<input type="file" id="file">
		<button type="button" onclick="handleFileSelect()">Compilar!</button>
	</form>
	-----------------------o-----------------------<br/>
	<textarea name="src" id="quads" cols="30" rows="10"></textarea><button type="button" onclick="TYRION(document.getElementById('quads').value);">Compilar!</button>
	<script src="underscore-min.js" type="text/javascript"></script>
	<script src="tyrion.min.js" type="text/javascript"></script>
	<script>
		  function handleFileSelect() {
		    var f = document.getElementById('file').files[0];

		    if(f.name.split('.').pop()=='ty'){
			    var reader = new FileReader();
			    reader.onload = (function(theFile) {
			    	return function(e) {
			    		var quads = TYRION(e.target.result);
			    		document.file.reset();
			    		var a = document.createElement('a');
						a.href = 'data:Application/octet-stream,'+quads;
						a.download = prompt('Filename')+'.fur';
						a.click();
			    	};
			    })(f);
			    reader.readAsText(f);
			} else {
				alert("El archivo seleccionado no es de tipo .ty");
			}
		  }
	</script>
</body>
</html>